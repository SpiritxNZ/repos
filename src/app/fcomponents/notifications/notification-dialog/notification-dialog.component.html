<nav>
  <div class="nav nav-tabs" id="nav-tab" role="tablist">
    <a class="nav-item nav-link notiTab" (click)="showSystem()" [ngClass]="{'active': systemTab && !sessionTab && !replyTab && !announcementTab}">System
      <span class="badge badge-success rounded-circle">{{systemNotisNum}}</span>
    </a>
    <a class="nav-item nav-link notiTab" (click)="showSession()" [ngClass]="{'active': !systemTab && sessionTab && !replyTab && !announcementTab}">Session
      <span class="badge badge-success rounded-circle">{{sessionNotisNum}}</span>
    </a>
    <a class="nav-item nav-link notiTab" (click)="showReply()" [ngClass]="{'active': !systemTab && !sessionTab && replyTab && !announcementTab}">Reply
      <span class="badge badge-success rounded-circle">{{replyNotisNum}}</span>
    </a>
    <a class="nav-item nav-link notiTab" (click)="showAnnouncement()" [ngClass]="{'active': !systemTab && !sessionTab && !replyTab && announcementTab}">Announcement
      <span class="badge badge-success rounded-circle">{{announceNotisNum}}</span>
    </a>
  </div>
</nav>


<div *ngIf="systemTab; then system"></div>
<div *ngIf="sessionTab; then session"></div>
<div *ngIf="replyTab; then reply"></div>
<div *ngIf="announcementTab; then announcement"></div>

<ng-template #system>
  <!-- System Tab -->
  <div *ngIf="systemNotis==''" class='notiData'>
    <div class='container'>
      There is no new notification.
    </div>
  </div>

  <div class='container'>
    <div class='row'>
      <div *ngFor='let noti of systemNotis; let i = index' class='card' style='width:100%' (click)="read(i,noti.notification_type)">
        <div class='card-body'>
          <strong class='notiTitle'> {{noti.title}} </strong>
          <small class='notiDate' style='color:lightgray'> &nbsp;&nbsp;{{noti.date}}</small>
          <div *ngIf="noti.read_status == 'unread'" class='float-right'>
            <i class="fas fa-envelope"></i>
          </div>
          <div *ngIf="noti.read_status == 'read'" class='float-right'>
            <i class="far fa-envelope-open"></i>
          </div>
          <div class='notiData'>&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message}}</div>
          <small class='notiAuthor' style='color:gray'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message_author}}</small>
        </div>
      </div>

    </div>
  </div>

</ng-template>

<ng-template #session>
  <!-- Session Tab -->
  <div *ngIf="sessionNotis==''" class='notiData'>
    <div class='container'>
      There is no new notification.
    </div>
  </div>
  <div class='container'>
    <div class='row'>
      <div *ngFor='let noti of sessionNotis; let i = index' class='card' style='width:100%' (click)="read(i,noti.notification_type)">
        <div class='card-body'>
          <strong class='notiTitle'> {{noti.title}} </strong>
          <small class='notiDate' style='color:lightgray'> &nbsp;&nbsp;{{noti.date}}</small>
          <div *ngIf="noti.read_status == 'unread'" class='float-right'>
            <i class="fas fa-envelope"></i>
          </div>
          <div *ngIf="noti.read_status == 'read'" class='float-right'>
            <i class="far fa-envelope-open"></i>
          </div>
          <div class='notiData'>&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message}}</div>
          <small class='notiAuthor' style='color:gray'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message_author}}</small>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #reply>
  <!-- Reply Tab -->
  <div *ngIf="replyNotis==''" class='notiData'>
    <div class='container'>
      There is no new notification.
    </div>
  </div>

  <div class='container'>
    <div class='row'>
      <div *ngFor='let noti of replyNotis; let i = index' class='card' style='width:100%' (click)="read(i,noti.notification_type)">
        <div class='card-body'>
          <strong class='notiTitle'> {{noti.title}} </strong>
          <small class='notiDate' style='color:lightgray'> &nbsp;&nbsp;{{noti.date}}</small>
          <div *ngIf="noti.read_status == 'unread'" class='float-right'>
            <i class="fas fa-envelope"></i>
          </div>
          <div *ngIf="noti.read_status == 'read'" class='float-right'>
            <i class="far fa-envelope-open"></i>
          </div>
          <div class='notiData'>&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message}}</div>
          <small class='notiAuthor' style='color:gray'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message_author}}</small>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #announcement>
  <!-- announcement tab -->
  <div *ngIf="announceNotis==''" class='notiData'>
    <div class='container'>
      There is no new notification.
    </div>
  </div>
  <div class='container'>
    <div class='row'>
      <div *ngFor='let noti of announceNotis; let i = index' class='card' style='width:100%' (click)="read(i, noti.notification_type)">
        <div class='card-body'>
          <strong class='notiTitle'> {{noti.title}} </strong>
          <small class='notiDate' style='color:lightgray'> &nbsp;&nbsp;{{noti.date}}</small>
          <div *ngIf="noti.read_status == 'unread'" class='float-right'>
            <i class="fas fa-envelope"></i>
          </div>
          <div *ngIf="noti.read_status == 'read'" class='float-right'>
            <i class="far fa-envelope-open"></i>
          </div>
          <div class='notiData'>&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message}}</div>
          <small class='notiAuthor' style='color:gray'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{noti.message_author}}</small>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<br>
<a role='button' class="btn btn-outline-info" href='/app/notifications' router-Link='/app/notifications' style='width: 100%;'>
  View all notifications</a>